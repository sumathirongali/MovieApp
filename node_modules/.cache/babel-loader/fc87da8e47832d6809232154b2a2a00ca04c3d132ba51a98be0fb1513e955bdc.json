{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport HeaderComponent from './Header.vue';\nimport FooterComponent from './Footer.vue';\nimport axios from 'axios';\nexport default {\n  name: 'FavoritesComp',\n  data() {\n    return {\n      email: '',\n      favorites: []\n    };\n  },\n  components: {\n    HeaderComponent,\n    FooterComponent\n  },\n  async mounted() {\n    //To return to home page if not logged in \n    let user = localStorage.getItem('user-info');\n    if (!user) {\n      return this.$router.push({\n        name: 'HomePage'\n      });\n    }\n    let userInfo = localStorage.getItem('user-info-email');\n    if (userInfo !== null) {\n      userInfo = userInfo.substring(1, userInfo.length - 1);\n      this.email = userInfo;\n    }\n    let result = await axios.get('http://localhost:3000/favorites/?email=' + this.email + '');\n    this.favorites = result.data;\n  },\n  methods: {\n    async deleteMovie(id) {\n      let result = await axios.delete('http://localhost:3000/favorites/' + id);\n      if (result.status == 200) {\n        alert('Removed from Favorities');\n        this.loadMovie();\n      }\n    },\n    async loadMovie() {\n      let result = await axios.get('http://localhost:3000/favorites/?email=' + this.email + '');\n      this.favorites = result.data;\n    }\n  }\n};","map":{"version":3,"mappings":";AAgCA,OAAOA,eAAc,MAAO,cAAa;AACzC,OAAOC,eAAc,MAAO,cAAa;AACzC,OAAOC,KAAI,MAAO,OAAM;AACxB,eAAe;EACXC,IAAI,EAAE,eAAe;EACrBC,IAAI,GAAG;IACH,OAAO;MACHC,KAAK,EAAE,EAAE;MACTC,SAAS,EAAE;IACf;EACJ,CAAC;EACDC,UAAU,EAAE;IACRP,eAAe;IACfC;EACJ,CAAC;EACD,MAAMO,OAAO,GAAG;IACZ;IACA,IAAIC,IAAG,GAAIC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;IAC5C,IAAI,CAACF,IAAI,EAAE;MACP,OAAO,IAAI,CAACG,OAAO,CAACC,IAAI,CAAC;QACrBV,IAAI,EAAE;MACV,CAAC,CAAC;IACN;IAEA,IAAIW,QAAO,GAAIJ,YAAY,CAACC,OAAO,CAAC,iBAAiB,CAAC;IACtD,IAAIG,QAAO,KAAM,IAAI,EAAE;MACnBA,QAAO,GAAIA,QAAQ,CAACC,SAAS,CAAC,CAAC,EAAGD,QAAQ,CAACE,MAAK,GAAI,CAAC,CAAE;MACvD,IAAI,CAACX,KAAI,GAAIS,QAAQ;IACzB;IACA,IAAIG,MAAK,GAAI,MAAMf,KAAK,CAACgB,GAAG,CAAC,yCAAwC,GAAI,IAAI,CAACb,KAAI,GAAI,EAAE,CAAC;IACzF,IAAI,CAACC,SAAQ,GAAIW,MAAM,CAACb,IAAI;EAEhC,CAAC;EACDe,OAAO,EAAE;IACL,MAAMC,WAAW,CAACC,EAAE,EAAE;MAClB,IAAIJ,MAAK,GAAI,MAAMf,KAAK,CAACoB,MAAM,CAAC,kCAAiC,GAAID,EAAE,CAAC;MACxE,IAAIJ,MAAM,CAACM,MAAK,IAAK,GAAG,EAAE;QACtBC,KAAK,CAAC,yBAAyB,CAAC;QAChC,IAAI,CAACC,SAAS,EAAE;MACpB;IACJ,CAAC;IACD,MAAMA,SAAS,GAAG;MACd,IAAIR,MAAK,GAAI,MAAMf,KAAK,CAACgB,GAAG,CAAC,yCAAwC,GAAI,IAAI,CAACb,KAAI,GAAI,EAAE,CAAC;MACzF,IAAI,CAACC,SAAQ,GAAIW,MAAM,CAACb,IAAI;IAChC;EACJ;AACJ","names":["HeaderComponent","FooterComponent","axios","name","data","email","favorites","components","mounted","user","localStorage","getItem","$router","push","userInfo","substring","length","result","get","methods","deleteMovie","id","delete","status","alert","loadMovie"],"sourceRoot":"","sources":["C:\\Workspace\\MovieApp\\src\\components\\Favorites.vue"],"sourcesContent":["<template>\r\n<HeaderComponent />\r\n<H2>My Favorite Movies</H2>\r\n<table class=\"styled-table\">\r\n    <thead>\r\n        <tr>\r\n            <td>Poster</td>\r\n            <td>Title</td>\r\n            <td>Genre</td>\r\n            <td>Director</td>\r\n            <td>Rating</td>\r\n            <td>Delete</td>\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        <tr v-for=\"item in favorites\" :key=item.movieName>\r\n            <td><img id=\"imgPoster\" :src=\"item.moviePoster\" class=\"img-thumbnail\" /></td>\r\n            <td>{{item.movieName}}</td>\r\n            <td>{{item.Genre}}</td>\r\n            <td>{{item.Director}}</td>\r\n            <td>{{item.movieRating}}</td>\r\n            <td>\r\n                <img id=\"imgFav\" v-bind:src=\"require('../assets/remove-icon-png-32.png')\" style=\"width:32px;\" v-on:click=\"deleteMovie(item.id)\" />\r\n            </td>\r\n        </tr>\r\n    </tbody>\r\n</table>\r\n\r\n<FooterComponent />\r\n</template>\r\n\r\n<script>\r\nimport HeaderComponent from './Header.vue'\r\nimport FooterComponent from './Footer.vue'\r\nimport axios from 'axios'\r\nexport default {\r\n    name: 'FavoritesComp',\r\n    data() {\r\n        return {\r\n            email: '',\r\n            favorites: []\r\n        }\r\n    },\r\n    components: {\r\n        HeaderComponent,\r\n        FooterComponent\r\n    },\r\n    async mounted() {\r\n        //To return to home page if not logged in \r\n        let user = localStorage.getItem('user-info');\r\n        if (!user) {\r\n            return this.$router.push({\r\n                name: 'HomePage'\r\n            });\r\n        }\r\n\r\n        let userInfo = localStorage.getItem('user-info-email');\r\n        if (userInfo !== null) {\r\n            userInfo = userInfo.substring(1, (userInfo.length - 1));\r\n            this.email = userInfo;\r\n        }\r\n        let result = await axios.get('http://localhost:3000/favorites/?email=' + this.email + '');\r\n        this.favorites = result.data;\r\n\r\n    },\r\n    methods: {\r\n        async deleteMovie(id) {\r\n            let result = await axios.delete('http://localhost:3000/favorites/' + id);\r\n            if (result.status == 200) {\r\n                alert('Removed from Favorities');\r\n                this.loadMovie();\r\n            }\r\n        },\r\n        async loadMovie() {\r\n            let result = await axios.get('http://localhost:3000/favorites/?email=' + this.email + '');\r\n            this.favorites = result.data;\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n.styled-table {\r\n    border-collapse: collapse;\r\n    margin: 25px 0;\r\n    font-size: 0.9em;\r\n    font-family: sans-serif;\r\n    width: 100%;\r\n    box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);\r\n    border-radius: 5px 5px 0 0;\r\n    overflow: hidden;\r\n}\r\n\r\n.styled-table thead tr {\r\n    background-color: #009879;\r\n    color: #ffffff;\r\n    text-align: center;\r\n    font-weight: bold;\r\n    font-size: large;\r\n    font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;\r\n}\r\n\r\n.styled-table th,\r\n.styled-table td {\r\n    padding: 12px 15px;\r\n}\r\n\r\n.styled-table tbody tr {\r\n    border-bottom: 1px solid #dddddd;\r\n    font-size: medium;\r\n    font-weight: 700;\r\n}\r\n\r\n.styled-table tbody tr:nth-of-type(even) {\r\n    background-color: #f3f3f3;\r\n}\r\n\r\n.styled-table tbody tr:last-of-type {\r\n    border-bottom: 2px solid #009879;\r\n}\r\n\r\n.styled-table tbody tr.active-row {\r\n    font-weight: bold;\r\n    color: #009879;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}
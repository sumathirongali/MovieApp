{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  class: \"styled-table\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"td\", null, \"Poster\"), /*#__PURE__*/_createElementVNode(\"td\", null, \"Title\"), /*#__PURE__*/_createElementVNode(\"td\", null, \"Genre\"), /*#__PURE__*/_createElementVNode(\"td\", null, \"Director\"), /*#__PURE__*/_createElementVNode(\"td\", null, \"Rating\"), /*#__PURE__*/_createElementVNode(\"td\", null, \"Delete\")])], -1 /* HOISTED */);\nconst _hoisted_3 = [\"src\"];\nconst _hoisted_4 = [\"src\", \"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_HeaderComponent = _resolveComponent(\"HeaderComponent\");\n  const _component_H2 = _resolveComponent(\"H2\");\n  const _component_FooterComponent = _resolveComponent(\"FooterComponent\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_HeaderComponent), _createVNode(_component_H2, null, {\n    default: _withCtx(() => [_createTextVNode(\"My Favorite Movies\")]),\n    _: 1 /* STABLE */\n  }), _createElementVNode(\"table\", _hoisted_1, [_hoisted_2, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.favorites, item => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: item.movieName\n    }, [_createElementVNode(\"td\", null, [_createElementVNode(\"img\", {\n      id: \"imgPoster\",\n      src: item.moviePoster,\n      class: \"img-thumbnail\"\n    }, null, 8 /* PROPS */, _hoisted_3)]), _createElementVNode(\"td\", null, _toDisplayString(item.movieName), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(item.Genre), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(item.Director), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(item.movieRating), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"img\", {\n      id: \"imgFav\",\n      src: require('../assets/remove-icon-png-32.png'),\n      style: {\n        \"width\": \"32px\"\n      },\n      onClick: $event => $options.deleteMovie(item.id)\n    }, null, 8 /* PROPS */, _hoisted_4)])]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createVNode(_component_FooterComponent)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"mappings":";;EAGOA,KAAK,EAAC;AAAc;gCACvBC,oBASQ,6BARJA,oBAOK,0BANDA,oBAAe,YAAX,QAAM,gBACVA,oBAAc,YAAV,OAAK,gBACTA,oBAAc,YAAV,OAAK,gBACTA,oBAAiB,YAAb,UAAQ,gBACZA,oBAAe,YAAX,QAAM,gBACVA,oBAAe,YAAX,QAAM;;;;;;;6DAVtBC,aAAmBC,6BACnBD,aAA2BE;sBAAvB,MAAkB,kBAAlB,oBAAkB;;MACtBH,oBAuBQ,SAvBRI,UAuBQ,GAtBJC,UASQ,EACRL,oBAWQ,mCAVJM,oBASKC,6BATcC,eAAS,EAAjBC,IAAI;yBAAfH,oBASK;MAT0BI,GAAG,EAACD,IAAI,CAACE;QACpCX,oBAA6E,aAAzEA,oBAAoE;MAA/DY,EAAE,EAAC,WAAW;MAAEC,GAAG,EAAEJ,IAAI,CAACK,WAAW;MAAEf,KAAK,EAAC;2CACtDC,oBAA2B,6BAArBS,IAAI,CAACE,SAAS,kBACpBX,oBAAuB,6BAAjBS,IAAI,CAACM,KAAK,kBAChBf,oBAA0B,6BAApBS,IAAI,CAACO,QAAQ,kBACnBhB,oBAA6B,6BAAvBS,IAAI,CAACQ,WAAW,kBACtBjB,oBAEK,aADDA,oBAAkI;MAA7HY,EAAE,EAAC,QAAQ;MAAQC,GAAG,EAAEK,OAAO;MAAsCC,KAAmB,EAAnB;QAAA;MAAA,CAAmB;MAAMC,OAAK,YAAEC,oBAAW,CAACZ,IAAI,CAACG,EAAE;;sCAM7IX,aAAmBqB","names":["class","_createElementVNode","_createVNode","_component_HeaderComponent","_component_H2","_hoisted_1","_hoisted_2","_createElementBlock","_Fragment","$data","item","key","movieName","id","src","moviePoster","Genre","Director","movieRating","require","style","onClick","$options","_component_FooterComponent"],"sourceRoot":"","sources":["C:\\Workspace\\MovieApp\\src\\components\\Favorites.vue"],"sourcesContent":["<template>\r\n<HeaderComponent />\r\n<H2>My Favorite Movies</H2>\r\n<table class=\"styled-table\">\r\n    <thead>\r\n        <tr>\r\n            <td>Poster</td>\r\n            <td>Title</td>\r\n            <td>Genre</td>\r\n            <td>Director</td>\r\n            <td>Rating</td>\r\n            <td>Delete</td>\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        <tr v-for=\"item in favorites\" :key=item.movieName>\r\n            <td><img id=\"imgPoster\" :src=\"item.moviePoster\" class=\"img-thumbnail\" /></td>\r\n            <td>{{item.movieName}}</td>\r\n            <td>{{item.Genre}}</td>\r\n            <td>{{item.Director}}</td>\r\n            <td>{{item.movieRating}}</td>\r\n            <td>\r\n                <img id=\"imgFav\" v-bind:src=\"require('../assets/remove-icon-png-32.png')\" style=\"width:32px;\" v-on:click=\"deleteMovie(item.id)\" />\r\n            </td>\r\n        </tr>\r\n    </tbody>\r\n</table>\r\n\r\n<FooterComponent />\r\n</template>\r\n\r\n<script>\r\nimport HeaderComponent from './Header.vue'\r\nimport FooterComponent from './Footer.vue'\r\nimport axios from 'axios'\r\nexport default {\r\n    name: 'FavoritesComp',\r\n    data() {\r\n        return {\r\n            email: '',\r\n            favorites: []\r\n        }\r\n    },\r\n    components: {\r\n        HeaderComponent,\r\n        FooterComponent\r\n    },\r\n    async mounted() {\r\n        //To return to home page if not logged in \r\n        let user = localStorage.getItem('user-info');\r\n        if (!user) {\r\n            return this.$router.push({\r\n                name: 'HomePage'\r\n            });\r\n        }\r\n\r\n        let userInfo = localStorage.getItem('user-info-email');\r\n        if (userInfo !== null) {\r\n            userInfo = userInfo.substring(1, (userInfo.length - 1));\r\n            this.email = userInfo;\r\n        }\r\n        let result = await axios.get('http://localhost:3000/favorites/?email=' + this.email + '');\r\n        this.favorites = result.data;\r\n\r\n    },\r\n    methods: {\r\n        async deleteMovie(id) {\r\n            let result = await axios.delete('http://localhost:3000/favorites/' + id);\r\n            if (result.status == 200) {\r\n                alert('Removed from Favorities');\r\n                this.loadMovie();\r\n            }\r\n        },\r\n        async loadMovie() {\r\n            let result = await axios.get('http://localhost:3000/favorites/?email=' + this.email + '');\r\n            this.favorites = result.data;\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n.styled-table {\r\n    border-collapse: collapse;\r\n    margin: 25px 0;\r\n    font-size: 0.9em;\r\n    font-family: sans-serif;\r\n    width: 100%;\r\n    box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);\r\n    border-radius: 5px 5px 0 0;\r\n    overflow: hidden;\r\n}\r\n\r\n.styled-table thead tr {\r\n    background-color: #009879;\r\n    color: #ffffff;\r\n    text-align: center;\r\n    font-weight: bold;\r\n    font-size: large;\r\n    font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;\r\n}\r\n\r\n.styled-table th,\r\n.styled-table td {\r\n    padding: 12px 15px;\r\n}\r\n\r\n.styled-table tbody tr {\r\n    border-bottom: 1px solid #dddddd;\r\n    font-size: medium;\r\n    font-weight: 700;\r\n}\r\n\r\n.styled-table tbody tr:nth-of-type(even) {\r\n    background-color: #f3f3f3;\r\n}\r\n\r\n.styled-table tbody tr:last-of-type {\r\n    border-bottom: 2px solid #009879;\r\n}\r\n\r\n.styled-table tbody tr.active-row {\r\n    font-weight: bold;\r\n    color: #009879;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}